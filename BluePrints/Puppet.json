{"status":{},"contains_secrets":false,"product_version":"3.0.0.0","spec":{"description":"* SSH to the [Puppet VM](@@{Puppet_Service.address}@@) \n* Puppet `puppet help` command line","resources":{"client_attrs":{"None":{"y":-213,"x":73},"a30598ed_deployment":{"y":-213,"x":73}},"service_definition_list":[{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Puppet_Service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"4a5d9597_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"734481ef_runbook","main_task_local_reference":{"kind":"app_task","name":"4a5d9597_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Puppet_Service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"2e439aba_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"b8a4ed73_runbook","main_task_local_reference":{"kind":"app_task","name":"2e439aba_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Puppet_Service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"2fe2d729_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"aaad72e4_runbook","main_task_local_reference":{"kind":"app_task","name":"2fe2d729_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Puppet_Service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"133ec869_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"f37cd28a_runbook","main_task_local_reference":{"kind":"app_task","name":"133ec869_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Puppet_Service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"3f64530c_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"35911326_runbook","main_task_local_reference":{"kind":"app_task","name":"3f64530c_dag"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"Puppet_Service","port_list":[],"tier":"","variable_list":[],"description":""}],"substrate_definition_list":[{"description":"","action_list":[],"type":"AHV_VM","name":"PuppetOpenSourceAHV","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"boot_config":true,"guest_customization":true,"disk_list":{}},"name":true,"categories":true}},"os_type":"Linux","create_spec":{"name":"Puppet-PHX-POC061","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"cb31b81c-d69d-4ba8-9101-cb2ecf2a0bc9"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\npassword: @@{CENTOS.secret}@@\nchpasswd: { expire: False }\nssh_pwauth: True"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"9055b343-459a-4ea0-96fa-91719fcc14e8","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"CentOS_1CD","uuid":"c9bc10c2-df3f-4985-a44a-495ce5d9e110"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[]}],"credential_definition_list":[{"username":"centos","description":"","type":"PASSWORD","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"name":"CENTOS","editables":{"username":true,"secret":true}}],"package_definition_list":[{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"Puppet_Service"}],"name":"PuppetOpenSourcePackageAHV","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"PuppetOpenSourcePackageAHV"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Puppet_OpenSource_Install_and_Configure"}],"name":"3a8b84d8_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_package","name":"PuppetOpenSourcePackageAHV"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Puppet_OpenSource_Install_and_Configure","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# Script Variables & Constants\nPUPPET_VERSION=\"@@{PUPPET_VERSION}@@\"\n\n# install puppet release rpm and puppet server.\nsudo hostnamectl set-hostname --static @@{name}@@\nsudo rpm -Uvh \"http:\/\/yum.puppetlabs.com\/puppet${PUPPET_VERSION}-release-el-7.noarch.rpm\"\nsudo yum install -y puppetserver\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"ec562474_runbook","main_task_local_reference":{"kind":"app_task","name":"3a8b84d8_dag"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"PuppetOpenSourcePackageAHV"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"b14852d2_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"b8f0faf1_runbook","main_task_local_reference":{"kind":"app_task","name":"b14852d2_dag"},"variable_list":[]}},"variable_list":[]}],"app_profile_list":[{"deployment_create_list":[{"type":"GREENFIELD","action_list":[],"name":"a30598ed_deployment","min_replicas":"1","default_replicas":"1","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"1","package_local_reference_list":[{"kind":"app_package","name":"PuppetOpenSourcePackageAHV"}],"substrate_local_reference":{"kind":"app_substrate","name":"PuppetOpenSourceAHV"},"variable_list":[],"description":""}],"description":"","action_list":[],"name":"Nutanix","variable_list":[{"regex":{"should_validate":false,"value":"^[\\d]*$"},"val_type":"INT","is_mandatory":true,"description":"","data_type":"BASE","type":"LOCAL","name":"PUPPET_VERSION","value":"5","label":"Puppet Server Version","attrs":{"type":"LOCAL"},"is_hidden":false,"options":{"type":"PREDEFINED","choices":["5","6"]}}]}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS"},"type":"USER"},"name":"Puppet"},"api_version":"3.0","metadata":{"last_update_time":"1592950615421958","kind":"blueprint","spec_version":2,"creation_time":"1592950554666186","categories":{"AppFamily":"DevOps"},"name":"Puppet"}}